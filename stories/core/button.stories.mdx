import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { componentWrapperDecorator, moduleMetadata } from "@storybook/angular";
import { CommonModule } from "@angular/common";

import { BaseButtonComponent } from "projects/instant-ui-library/src/lib/button/base-button/base-button.component";
import { InstantUiLibraryComponent } from "projects/instant-ui-library/src/lib/root/instant-ui-library.component";
import { LoadingSpinnerModule } from "projects/instant-ui-library/src/lib/loading-spinner/loading-spinner.module";

## Button

Button is an extension to standard html button element

[Source Code](https://github.com/chemscn/instant-ui/tree/main/projects/instant-ui-library/src/lib/button/base-button)

## Playground

<Meta
  title="Components/Button"
  argTypes={{
    text: {
      description: "Text displayed within button component",
      type: { required: true },
      table: {
        type: { summary: "string" },
        defaultValue: { summary: "-" },
        control: {
          type: "text",
        },
      },
    },
    title: {
      description: "htmlTitle displays when hovered",
      table: {
        type: { summary: "string" },
        defaultValue: { summary: "Defaults to button text if not provided" },
        control: {
          type: "text",
        },
      },
    },
    type: {
      description: "Defines the type of button",
      table: {
        type: { summary: "button | reset | submit" },
        defaultValue: { summary: "button" },
        control: {
          type: null,
        },
      },
    },
    variant: {
      description: "Defines the type of button",
      table: {
        type: { summary: "primary | secondary | tertiary | highlight" },
        defaultValue: { summary: "primary" },
        control: {
          type: "text",
        },
      },
    },
    disabled: {
      description: "Button becomes disabled",
      table: {
        type: { summary: "boolean" },
        defaultValue: { summary: "false" },
      },
    },
    loading: {
      description: "Button in loading state",
      table: {
        type: { summary: "boolean" },
        defaultValue: { summary: "false" },
      },
    },
    onClick: {
      description: "Button on click event",
      type: { required: true },
      table: {},
      control: {
        type: null,
      },
    },
  }}
/>

export const Template = (args) => ({
  props: {
    ...args,
    click: () => alert("Clicked button"),
  },
  template: `
   <iu-button
   [text]="text"
   [title]="title"
   [type]="type"
   [variant]="variant"
   [disabled]="disabled"
   [loading]="loading"
   (onClick)="click()"></iu-button>
  `,
});

<Canvas>
  <Story
    name="Playground"
    decorators={[
      moduleMetadata({
        declarations: [BaseButtonComponent, InstantUiLibraryComponent],
        imports: [CommonModule],
      }),
      componentWrapperDecorator(InstantUiLibraryComponent),
    ]}
    parameters={{
      docs: {
        source: {
          code: `<iu-button text="Primary" (onClick)="click()"></iu-button>`,
        },
      },
    }}
    args={{
      text: "Primary",
      title: "",
      type: "button",
      variant: "primary",
      disabled: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story={"Playground"} />

## Variants

### Primary

<Canvas>
  <Story
    name="Default"
    decorators={[
      moduleMetadata({
        declarations: [BaseButtonComponent, InstantUiLibraryComponent],
        imports: [CommonModule],
      }),
      componentWrapperDecorator(InstantUiLibraryComponent),
    ]}
    parameters={{
      docs: {
        source: {
          code: `<iu-button text="Primary" (onClick)="click()"></iu-button>`,
        },
      },
    }}
    args={{
      text: "Primary",
      title: "",
      type: "button",
      variant: "primary",
      disabled: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Secondary

<Canvas>
  <Story
    name="Secondary"
    decorators={[
      moduleMetadata({
        declarations: [BaseButtonComponent, InstantUiLibraryComponent],
        imports: [CommonModule],
      }),
      componentWrapperDecorator(InstantUiLibraryComponent),
    ]}
    parameters={{
      docs: {
        source: {
          code: `<iu-button text="Secondary" variant="secondary" (onClick)="click()"></iu-button>`,
        },
      },
    }}
    args={{
      text: "Secondary",
      title: "",
      type: "button",
      variant: "secondary",
      disabled: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Tertiary

<Canvas>
  <Story
    name="Tertiary"
    decorators={[
      moduleMetadata({
        declarations: [BaseButtonComponent, InstantUiLibraryComponent],
        imports: [CommonModule],
      }),
      componentWrapperDecorator(InstantUiLibraryComponent),
    ]}
    parameters={{
      docs: {
        source: {
          code: `<iu-button text="Tertiary" variant="tertiary" (onClick)="click()"></iu-button>`,
        },
      },
    }}
    args={{
      text: "Tertiary",
      title: "",
      type: "button",
      variant: "tertiary",
      disabled: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Highlight

<Canvas>
  <Story
    name="Highlight"
    decorators={[
      moduleMetadata({
        declarations: [BaseButtonComponent, InstantUiLibraryComponent],
        imports: [CommonModule],
      }),
      componentWrapperDecorator(InstantUiLibraryComponent),
    ]}
    parameters={{
      docs: {
        source: {
          code: `<iu-button text="Highlight" variant="highlight" (onClick)="click()"></iu-button>`,
        },
      },
    }}
    args={{
      text: "Highlight",
      title: "",
      type: "button",
      variant: "highlight",
      disabled: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Disabled

<Canvas>
  <Story
    name="Disabled"
    decorators={[
      moduleMetadata({
        declarations: [BaseButtonComponent, InstantUiLibraryComponent],
        imports: [CommonModule],
      }),
      componentWrapperDecorator(InstantUiLibraryComponent),
    ]}
    parameters={{
      docs: {
        source: {
          code: `<iu-button text="Primary" [disabled]="true"  (onClick)="click()"></iu-button>`,
        },
      },
    }}
    args={{
      text: "Primary",
      title: "",
      type: "button",
      variant: "primary",
      disabled: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Loading

<Canvas>
  <Story
    name="Loading"
    decorators={[
      moduleMetadata({
        declarations: [BaseButtonComponent, InstantUiLibraryComponent],
        imports: [CommonModule],
      }),
      componentWrapperDecorator(InstantUiLibraryComponent),
    ]}
    parameters={{
      docs: {
        source: {
          code: `<iu-button text="Primary" [loading]="true" (onClick)="click()"></iu-button>`,
        },
      },
    }}
    args={{
      text: "Primary",
      title: "",
      type: "button",
      variant: "primary",
      disabled: false,
      loading: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
